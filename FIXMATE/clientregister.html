<!DOCTYPE html>
<html>
<head><meta charset="utf-8"/><title>Client Registration</title></head>
<body>
  <h2>Register as Client</h2>
  <form id="clientForm">
    <input id="fullName" placeholder="Full name" required />
    <input id="email" type="email" placeholder="Email" required />
    <input id="phone" placeholder="Phone" required />
    <input id="password" type="password" placeholder="Password" required />
    <input id="location" placeholder="Location" required />
    <button type="submit">Register</button>
  </form>
  <p id="msg"></p>

<script>
document.getElementById('clientForm').addEventListener('submit', async function(e){
  e.preventDefault();
  const data = {
    username: document.getElementById('email').value.trim(),
    password: document.getElementById('password').value,
    role: 'client',
    name: document.getElementById('fullName').value.trim(),
    phone: document.getElementById('phone').value.trim(),
    email: document.getElementById('email').value.trim()
  };
  try {
    const res = await fetch('http://localhost:3000/api/register', {
      method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data)
    });
    const result = await res.json();
     // ...existing code...
  if (res.ok) {
    document.getElementById('msg').textContent = 'Registered. Redirecting to dashboard...';
    setTimeout(()=> location.href='clientdashboard.html', 1000);
  } else document.getElementById('msg').textContent = result.error || 'Registration failed';
  // ...existing code...
  } catch(e){ document.getElementById('msg').textContent='Network error'; console.error(e); }
});
</script>
</body>
</html>